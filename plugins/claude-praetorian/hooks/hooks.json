{
  "hooks": {
    "PreToolUse": [{
      "matcher": "EnterPlanMode",
      "hooks": [{
        "type": "command",
        "command": "node ${CLAUDE_PLUGIN_ROOT}/hooks/pre-plan.js"
      }],
      "description": "Check for prior compactions before planning"
    }],
    "PreCompact": [{
      "matcher": "*",
      "hooks": [{
        "type": "command",
        "command": "node ${CLAUDE_PLUGIN_ROOT}/hooks/pre-compact.js"
      }],
      "description": "Save context before compaction resets it"
    }],
    "PostToolUse": [{
      "matcher": "WebFetch|WebSearch",
      "hooks": [{
        "type": "command",
        "command": "node ${CLAUDE_PLUGIN_ROOT}/hooks/post-research.js"
      }],
      "description": "Compact after web research"
    }],
    "SubagentStop": [{
      "matcher": "*",
      "hooks": [{
        "type": "command",
        "command": "node ${CLAUDE_PLUGIN_ROOT}/hooks/post-subagent.js"
      }],
      "description": "Compact subagent findings when agent completes"
    }]
  }
}
